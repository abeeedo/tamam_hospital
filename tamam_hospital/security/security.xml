<?xml version="1.0" encoding="utf-8"?>
<odoo>
    #category
    <record model="ir.module.category" id="module_categories_tamam">
        <field name="name">Tamam Managements</field>
        <field name="description">Categories For Tamam Hospital</field>
        <field name="sequence">76</field>
    </record>

    #groups
    <record id="group_mangers_hospital" model="res.groups">
        <field name="name">Tamam Hospitals / Mangers </field>
        <field name="category_id" ref="module_categories_tamam"/>
    </record>

    <record id="group_doctors_hospital" model="res.groups">
        <field name="name">Tamam Hospitals / Doctors </field>
        <field name="category_id" ref="module_categories_tamam"/>
    </record>

    <record id="group_tamam_lab" model="res.groups">
        <field name="name">Tamam Hospitals / Lab Assistants </field>
        <field name="category_id" ref="module_categories_tamam"/>
    </record>

    <record id="group_tamam_lab_mangers" model="res.groups">
        <field name="name">Tamam Hospitals / Lab Manger </field>
        <field name="category_id" ref="module_categories_tamam"/>
        <field name="implied_ids" eval="[(4, ref('group_tamam_lab'))]"/>
    </record>

    #recored rules
    <record model="ir.rule" id="only_users_can_modify">
        <field name="name">See All Patients</field>
        <field name="model_id" ref="model_hospital_patients"/>
        <field name="domain_force">[]</field>
        <field name="groups" eval="[(4, ref('group_mangers_hospital'))]"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_read" eval="1"/>
    </record>

    <record model="ir.rule" id="see_his_own_labs">
        <field name="name">See His Labs Only</field>
        <field name="model_id" ref="model_hospital_labs"/>
        <field name="domain_force">[('user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('group_tamam_lab'))]"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_read" eval="1"/>
    </record>

    <record model="ir.rule" id="see_all_labs">
        <field name="name">See All Labs</field>
        <field name="model_id" ref="model_hospital_labs"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('group_tamam_lab_mangers'))]"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_read" eval="1"/>
    </record>

<!--    <record model="ir.rule" id="patients_record_rule">-->
<!--        <field name="name">See Only His Patient</field>-->
<!--        <field name="model_id" ref="model_hospital_patients"/>-->
<!--        <field name="domain_force">[('doctor_id.user_id','=',user.id)]</field>-->
<!--        <field name="groups" eval="[4, ref('group_doctors_hospital')]"/>-->
<!--    </record>-->


</odoo>
